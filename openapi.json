{"openapi":"3.1.0","info":{"title":"CoinVerse","version":"0.1.0"},"paths":{"/CoinVerse/register":{"post":{"tags":["interfaces"],"summary":"create new user account","operationId":"register_user_CoinVerse_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/login":{"post":{"tags":["interfaces"],"summary":"name / email + pwd to login, return the token","operationId":"login_CoinVerse_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/refresh_token":{"post":{"tags":["interfaces"],"summary":"refresh the token","operationId":"refresh_token_CoinVerse_refresh_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/logout":{"post":{"tags":["interfaces"],"summary":"logout, invalidate the token (expire it)","operationId":"logout_CoinVerse_logout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/users/me":{"post":{"tags":["interfaces"],"summary":"get the user info","operationId":"get_profile_CoinVerse_users_me_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/users/me/change_password":{"put":{"tags":["interfaces"],"summary":"change the user password","operationId":"change_password_CoinVerse_users_me_change_password_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/create_book":{"post":{"tags":["interfaces"],"summary":"create a new account book (need token)","operationId":"create_acc_book_CoinVerse_create_book_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountBookRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAccountBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/list_books":{"put":{"tags":["interfaces"],"summary":"list the books in the account (need token)","operationId":"list_acc_book_CoinVerse_list_books_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBookRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/books/remove_book":{"post":{"tags":["interfaces"],"summary":"remove the book by book_id (need token)","operationId":"remove_book_CoinVerse_books_remove_book_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveBookRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/books_detail":{"post":{"tags":["interfaces"],"summary":"get the book detail by book_id (need token)","operationId":"get_book_detail_CoinVerse_books_detail_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookDetailRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/book/transactions/add_income":{"post":{"tags":["interfaces"],"summary":"add a transaction to the book (need token)","operationId":"add_income_CoinVerse_book_transactions_add_income_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddIncomeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddIncomeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/CoinVerse/book/transactions/add_outcome":{"post":{"tags":["interfaces"],"summary":"add a transaction to the book (need token)","operationId":"add_outcome_CoinVerse_book_transactions_add_outcome_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOutcomeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOutcomeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddIncomeRequest":{"properties":{"token":{"type":"string","title":"Token"},"account_book_id":{"type":"integer","title":"Account Book Id"},"amount":{"type":"number","title":"Amount"},"time":{"type":"string","title":"Time"},"note":{"type":"string","title":"Note"},"income_idx":{"type":"integer","title":"Income Idx"}},"type":"object","required":["token","account_book_id","amount","time","note","income_idx"],"title":"AddIncomeRequest"},"AddIncomeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"},"code":{"type":"integer","title":"Code"}},"type":"object","required":["success","msg","code"],"title":"AddIncomeResponse","description":"Attributes:\n    success: [TODO:attribute]\n    msg: [TODO:attribute]\n    code:\n        # 0 success\n        # 1 invalid time str format\n        # 2 requireInfo lost (useless\n        # 3 token lost\n        # 4 token expired\n        # 5 income type index invalid\n        # 6 unkown"},"AddOutcomeRequest":{"properties":{"token":{"type":"string","title":"Token"},"account_book_id":{"type":"integer","title":"Account Book Id"},"amount":{"type":"number","title":"Amount"},"time":{"type":"string","title":"Time"},"note":{"type":"string","title":"Note"},"outcome_idx":{"type":"integer","title":"Outcome Idx"}},"type":"object","required":["token","account_book_id","amount","time","note","outcome_idx"],"title":"AddOutcomeRequest"},"AddOutcomeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"},"code":{"type":"integer","title":"Code"}},"type":"object","required":["success","msg","code"],"title":"AddOutcomeResponse","description":"Attributes:\n    success: [TODO:attribute]\n    msg: [TODO:attribute]\n    code:\n        # 0 success\n        # 1 invalid time str format\n        # 2 token lost\n        # 3 token expired\n        # 4 Invalid outcome value which is not negative\n        # 5 Invliad outcome value\n        # 6 Unkown Error"},"BookDetailRequest":{"properties":{"token":{"type":"string","title":"Token"},"account_book_id":{"type":"integer","title":"Account Book Id"},"start_time":{"type":"string","title":"Start Time"},"end_time":{"type":"string","title":"End Time"},"note":{"type":"string","title":"Note"}},"type":"object","required":["token","account_book_id","start_time","end_time","note"],"title":"BookDetailRequest"},"BookDetailResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"},"code":{"type":"integer","title":"Code"},"transactions":{"items":{"additionalProperties":{"prefixItems":[{"type":"string"},{"type":"string"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3},"type":"object"},"type":"array","title":"Transactions"}},"type":"object","required":["success","msg","code","transactions"],"title":"BookDetailResponse","description":"Attributes:\n    success: status\n    code:\n        # 0 success\n        # 1 invlaid start_time or end time\n        # 2 token lost\n        # 3 token expired\n        # 4 unkown\n    transactions: [TODO:attribute]"},"ChangePasswordRequest":{"properties":{"name_or_email":{"type":"string","title":"Name Or Email"},"old_pwd_hash":{"type":"string","title":"Old Pwd Hash"},"new_pwd_hash":{"type":"string","title":"New Pwd Hash"}},"type":"object","required":["name_or_email","old_pwd_hash","new_pwd_hash"],"title":"ChangePasswordRequest"},"ChangePasswordResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"}},"type":"object","required":["success","msg"],"title":"ChangePasswordResponse"},"CreateAccountBookRequest":{"properties":{"token":{"type":"string","title":"Token"},"book_name":{"type":"string","title":"Book Name"}},"type":"object","required":["token","book_name"],"title":"CreateAccountBookRequest"},"CreateAccountBookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"code":{"type":"integer","title":"Code"},"msg":{"type":"string","title":"Msg"}},"type":"object","required":["success","code","msg"],"title":"CreateAccountBookResponse","description":"Attributes:\n    success: the ops status\n    code:\n        # 0: success\n        # 1: token lost\n        # 2: token expired\n        # 3. book name duplicated\n        # 4. book name invalid\n    msg: information about the operation"},"GetUserProfileRequest":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"GetUserProfileRequest"},"GetUserProfileResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"},"name":{"type":"string","title":"Name"},"email":{"type":"string","title":"Email"}},"type":"object","required":["success","msg","name","email"],"title":"GetUserProfileResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListBookRequest":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"ListBookRequest"},"ListBookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"code":{"type":"integer","title":"Code"},"msg":{"type":"string","title":"Msg"},"books":{"items":{"additionalProperties":{"prefixItems":[{"type":"string"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},"type":"object"},"type":"array","title":"Books"}},"type":"object","required":["success","code","msg","books"],"title":"ListBookResponse","description":"Attributes:\n    success: the ops status\n    code:\n        # 0 success\n        # 1 token lost\n        # 2 token expired\n    msg: info ops\n    books: list of books"},"LoginRequest":{"properties":{"name_or_email":{"type":"string","title":"Name Or Email"},"pwd_hash":{"type":"string","title":"Pwd Hash"},"maintain_online":{"type":"boolean","title":"Maintain Online"}},"type":"object","required":["name_or_email","pwd_hash","maintain_online"],"title":"LoginRequest"},"LoginResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token"}},"type":"object","required":["success","msg","access_token"],"title":"LoginResponse"},"LogoutRequest":{"properties":{"old_token":{"type":"string","title":"Old Token"}},"type":"object","required":["old_token"],"title":"LogoutRequest"},"LogoutResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"}},"type":"object","required":["success","msg"],"title":"LogoutResponse"},"RefreshTokenRequest":{"properties":{"old_token":{"type":"string","title":"Old Token"}},"type":"object","required":["old_token"],"title":"RefreshTokenRequest"},"RefreshTokenResponse":{"properties":{"sucess":{"type":"boolean","title":"Sucess"},"expired":{"type":"boolean","title":"Expired"},"msg":{"type":"string","title":"Msg"},"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["sucess","expired","msg","access_token"],"title":"RefreshTokenResponse"},"RegisterRequest":{"properties":{"name":{"type":"string","maxLength":20,"minLength":1,"title":"Name"},"email":{"type":"string","title":"Email"},"pwd_hash":{"type":"string","title":"Pwd Hash"}},"type":"object","required":["name","email","pwd_hash"],"title":"RegisterRequest"},"RegisterResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"msg":{"type":"string","title":"Msg"}},"type":"object","required":["success","msg"],"title":"RegisterResponse"},"RemoveBookRequest":{"properties":{"token":{"type":"string","title":"Token"},"book_id":{"type":"integer","title":"Book Id"}},"type":"object","required":["token","book_id"],"title":"RemoveBookRequest"},"RemoveBookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"code":{"type":"integer","title":"Code"},"msg":{"type":"string","title":"Msg"}},"type":"object","required":["success","code","msg"],"title":"RemoveBookResponse","description":"Attributes:\n    success: the ops status\n    code:\n        # 0 success\n        # 1 token lost\n        # 2 token expired\n    msg: info ops"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
